é¦–å…ˆéœ€è¦æœ‰åˆå§‹åŒ–çš„æ¦‚å¿µï¼Œæ— è®ºæ˜¯åšçª—å£ï¼Œç„¶åå¾®è°ƒï¼Œè¿™ä¸€æ­¥ä»£ç å¾—ä¼š
class Solution:
    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:
        n = len(nums)
        # æ³¨æ„ Python é»˜è®¤çš„ä¼˜å…ˆé˜Ÿåˆ—æ˜¯å°æ ¹å †ï¼Œè€Œæœ¬é¢˜æ˜¯å¤§æ ¹å †ï¼Œå› æ­¤å–ä¸ªç›¸åå€¼
        q = [(-nums[i], i) for i in range(k)]
        heapq.heapify(q)

        ans = [-q[0][0]]
        for i in range(k, n):#å®šä¹‰çª—å£çš„å³ç«¯ç‚¹
            heapq.heappush(q, (-nums[i], i))
            while q[0][1] <= i - k:#å¦‚æœè¯¥å…ƒç´ åœ¨çª—å£å·¦è¾¹ï¼Œå°±å»æ‰
                heapq.heappop(q)
            ans.append(-q[0][0])#å› ä¸ºå¤„ç†ä¹‹åçš„æœ€å·¦è¾¹å°±æ˜¯å †çš„æœ€å°å€¼ï¼ˆä¹Ÿå°±æ˜¯åŸæ¥åˆ—è¡¨çš„æœ€å¤§å€¼ï¼‰
        
        return ans

heapq æ˜¯ Python è‡ªå¸¦çš„ä¸€ä¸ª å †é˜Ÿåˆ—ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰ç®—æ³•æ¨¡å—ï¼Œåº•å±‚ä½¿ç”¨çš„æ˜¯ä¸€ä¸ª æœ€å°å †ï¼ˆå°æ ¹å †ï¼‰ã€‚

**æœ€å°å †ï¼ˆmin-heapï¼‰**çš„å®šä¹‰æ˜¯ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ã€‚

å †ç»“æ„å¯ä»¥ç”¨ä¸€ä¸ªæ™®é€šçš„ list è¡¨ç¤ºï¼Œheapq æ“ä½œçš„å°±æ˜¯è¿™ä¸ª listã€‚

å®ƒä¸æ˜¯ä¸€ä¸ªç±»ï¼Œè€Œæ˜¯ä¸€ç»„å‡½æ•°ï¼ˆå¯¹ list æ“ä½œï¼‰ã€‚

ğŸ”§ heapq æä¾›çš„æ ¸å¿ƒå‡½æ•°ï¼š
å‡½æ•°	ä½œç”¨
heapq.heapify(lst)	å°†ä¸€ä¸ªåˆ—è¡¨åŸåœ°è½¬åŒ–ä¸ºä¸€ä¸ªå †ï¼ˆæœ€å°å †ï¼‰ç»“æ„
heapq.heappush(heap, item)	å‘å †ä¸­åŠ å…¥ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¿æŒå †ç»“æ„
heapq.heappop(heap)	å¼¹å‡ºå¹¶è¿”å›å †ä¸­æœ€å°çš„å…ƒç´ 
heapq.heappushpop(heap, item)	å°† item åŠ å…¥å †ä¸­åå† pop æœ€å°å€¼ï¼Œæ•ˆç‡é«˜äºåˆ†å¼€æ‰§è¡Œ
heapq.nlargest(n, iterable)	è¿”å› iterable ä¸­æœ€å¤§çš„ n ä¸ªå…ƒç´ 
heapq.nsmallest(n, iterable)	è¿”å›æœ€å°çš„ n ä¸ªå…ƒç´ 


class Solution:
    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:
        n = len(nums)
        q = collections.deque()
        for i in range(k):
            while q and nums[i] >= nums[q[-1]]:
                q.pop()
            q.append(i)

        ans = [nums[q[0]]]
        for i in range(k, n):
            while q and nums[i] >= nums[q[-1]]:
                q.pop()
            q.append(i)
            while q[0] <= i - k:
                q.popleft()
            ans.append(nums[q[0]])
        
        return ans

è¿™ä¸€æ–¹æ³•æ˜¯æŒ‰ç…§é˜Ÿåˆ—æ¥å†™çš„ï¼Œæ ¸å¿ƒä¹Ÿæ˜¯å…ˆåˆ›å»ºé˜Ÿåˆ—ï¼Œç„¶åanså­˜å‚¨æœ€å¤§å€¼ï¼Œdequeå­˜å‚¨åºå·ï¼Œä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªé‡Œé¢çš„whileä¼šåˆ¤æ–­æˆ‘å‡†å¤‡ä¼ å…¥çš„qå’Œä¹‹å‰å­˜æ”¾çš„æ‰€æœ‰å€¼æ¯”è¾ƒï¼Œå¦‚æœä»–å¤§ï¼Œå°±æŠŠä¹‹å‰æ‰€æœ‰æ•°åˆ æ‰ã€‚ç¬¬äºŒä¸ªwhileåˆ¤æ–­æ˜¯å¦åšçª—å£è¶Šç•Œï¼Œå…¶å®æˆ‘è§‰å¾—è¿™ä¸€ç§æ›´ç¬¦åˆæƒ¯æ€§æ€ç»´ï¼Œ
è€Œä¸”æ²¡æœ‰ç”¨åˆ°é‚£ç§ä¸“é—¨çš„å †çš„å‡½æ•°ã€‚
ç»†èŠ‚ï¼šwhile qï¼šqéç©ºçš„æ—¶å€™æ‰èƒ½æ‰§è¡Œã€‚æœ¬é¢˜è®¾ç½®dequeå› ä¸ºä¾¿äºåˆ é™¤å…ƒç´ o1ï¼Œlistæ˜¯on


ä»¥ä¸‹æ˜¯å¯¹ Python ä¸­ dequeã€stackã€list çš„æ“ä½œå¼‚åŒã€å‡½æ•°ä»‹ç»å’Œå¤æ‚åº¦åˆ†æçš„å…¨é¢æ€»ç»“ï¼Œå¸®åŠ©ä½ ä»ä½¿ç”¨åˆ°åº•å±‚ç†è§£æ¸…æ™°æŒæ¡è¿™ä¸‰ä¸ªç»“æ„çš„å¼‚åŒç‚¹å’Œå„è‡ªé€‚ç”¨åœºæ™¯ã€‚

ğŸ” ä¸€ã€æ€»ä½“å¯¹æ¯”è¡¨
ç‰¹æ€§/ç»“æ„	dequeï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰	listï¼ˆåŠ¨æ€æ•°ç»„ï¼‰	stackï¼ˆæ ˆï¼‰
åº•å±‚ç»“æ„	åŒå‘é“¾è¡¨/å¾ªç¯æ•°ç»„å®ç°	åŠ¨æ€æ•°ç»„	é€šå¸¸æ˜¯ list å®ç°ï¼ˆLIFOï¼‰
é€‚åˆç”¨ä½œ	é˜Ÿåˆ—ã€åŒç«¯é˜Ÿåˆ—ã€æ»‘çª—ç»“æ„	éšæœºè®¿é—®æ•°æ®ã€ä¸€èˆ¬ç”¨é€”æ•°ç»„	åè¿›å…ˆå‡ºç»“æ„
æ”¯æŒåŒç«¯æ“ä½œ	âœ…ï¼ˆappendleft/popleftï¼‰	âŒï¼ˆå¤´éƒ¨æ“ä½œ O(n)ï¼‰	âŒ
éšæœºè®¿é—®	âŒï¼ˆO(n)ï¼‰	âœ…ï¼ˆO(1)ï¼‰	âŒ
æ’å…¥åˆ é™¤æ•ˆç‡	O(1) å¤´å°¾æ“ä½œ	O(1) å°¾æ’ï¼Œå¤´éƒ¨ O(n)	O(1)
æœ€å¤§ä¼˜åŠ¿	åŒç«¯å¿«é€Ÿæ“ä½œ	é€šç”¨å®¹å™¨ + æ”¯æŒåˆ‡ç‰‡	ç®€æ´ LIFO å®ç°
å®é™… stack å®ç°	âŒï¼ˆä½†ä¹Ÿå¯æ¨¡æ‹Ÿï¼‰	âœ…ï¼ˆæœ€å¸¸è§ï¼‰	âœ…ï¼ˆlist å°±èƒ½å®ç°ï¼‰

ğŸ§© äºŒã€æ“ä½œå‡½æ•°ä¸å¤æ‚åº¦åˆ†æ
1ï¸âƒ£ collections.deque
æ“ä½œ	æ–¹æ³•	å¹³å‡æ—¶é—´å¤æ‚åº¦	æè¿°
é˜Ÿå°¾åŠ å…ƒç´ 	append(x)	O(1)	åŠ åˆ°å³è¾¹
é˜Ÿå¤´åŠ å…ƒç´ 	appendleft(x)	O(1)	åŠ åˆ°å·¦è¾¹
é˜Ÿå°¾åˆ å…ƒç´ 	pop()	O(1)	ä»å³è¾¹åˆ é™¤
é˜Ÿå¤´åˆ å…ƒç´ 	popleft()	O(1)	ä»å·¦è¾¹åˆ é™¤
éšæœºè®¿é—®	dq[i]	O(n)	ä¸æ¨èï¼Œå› éæ•°ç»„ç»“æ„
æ—‹è½¬	rotate(n)	O(k)ï¼Œkä¸ºæ­¥é•¿	å‘å³(æ­£æ•°)/å·¦(è´Ÿæ•°)æ—‹è½¬
é•¿åº¦é™åˆ¶	deque(maxlen=n)	-	è¶…è¿‡è‡ªåŠ¨åˆ é™¤å¤´éƒ¨/å°¾éƒ¨å…ƒç´ 

2ï¸âƒ£ listï¼ˆåˆ—è¡¨ï¼‰
æ“ä½œ	æ–¹æ³•	å¹³å‡æ—¶é—´å¤æ‚åº¦	æè¿°
å°¾éƒ¨åŠ å…ƒç´ 	append(x)	O(1)	æœ€å¸¸ç”¨æ“ä½œ
å°¾éƒ¨åˆ å…ƒç´ 	pop()	O(1)	æœ«å°¾åˆ é™¤
ä»»æ„åˆ å…ƒç´ 	pop(i)	O(n-i)	ä¸­é—´æˆ–å¤´éƒ¨åˆ é™¤è¾ƒæ…¢
ä»»æ„æ’å…¥	insert(i, x)	O(n)	é€šå¸¸é¿å…
å¤´éƒ¨åˆ å…ƒç´ 	pop(0)	O(n)	ä¸æ¨èé¢‘ç¹ç”¨
åˆ‡ç‰‡	a[1:3]	O(k)	é€‚åˆåšæ•°ç»„æˆªå–
éšæœºè®¿é—®	a[i]	O(1)	æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®

3ï¸âƒ£ stackï¼ˆæ ˆï¼‰
Python ä¸­æ ˆä¸€èˆ¬ç›´æ¥ç”¨ list å®ç°ï¼Œæ“ä½œåŒ…æ‹¬ï¼š

æ“ä½œ	æ–¹æ³•	æ—¶é—´å¤æ‚åº¦	æè¿°
å…¥æ ˆ	append(x)	O(1)	ä»æœ«å°¾å‹å…¥
å‡ºæ ˆ	pop()	O(1)	ä»æœ«å°¾å¼¹å‡º
æŸ¥çœ‹æ ˆé¡¶	stack[-1]	O(1)	å–æ ˆé¡¶ä½†ä¸å¼¹å‡º

å¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨çš„æ ˆï¼Œå¯ä½¿ç”¨ queue.LifoQueue()ï¼ˆå¼€é”€ç¨å¤§ï¼‰

ğŸ§  ä¸‰ã€é€‚ç”¨åœºæ™¯æ€»ç»“
åº”ç”¨åœºæ™¯	æ¨èç»“æ„	åŸå› è¯´æ˜
æ»‘åŠ¨çª—å£ã€å•è°ƒé˜Ÿåˆ—	deque	éœ€è¦å¤´å°¾åŒå‘å¿«é€Ÿå…¥å‡º
åè¿›å…ˆå‡ºæ ˆç»“æ„	list	ç®€æ´ä¸”é«˜æ•ˆçš„ LIFO å®ç°
æ™®é€šæ•°ç»„æ“ä½œ	list	åˆ‡ç‰‡ã€ç´¢å¼•ã€éå†æ–¹ä¾¿
åŒç«¯é˜Ÿåˆ—æˆ–é™é•¿ç¼“å­˜	deque	æ”¯æŒåŒç«¯ã€maxlen è‡ªåŠ¨ç®¡ç†é˜Ÿåˆ—é•¿åº¦
å¤§é‡éšæœºè¯»å†™	list	æ”¯æŒ O(1) è®¿é—®ï¼Œæ•°ç»„ç»“æ„æœ€é€‚åˆ
é«˜æ€§èƒ½é˜Ÿåˆ—æ“ä½œ	deque	æ¯” list å¤´éƒ¨æ“ä½œå¿«å¾ˆå¤šï¼Œä¸è¦ç”¨ pop(0)

åŒç«¯é˜Ÿåˆ—å’Œå•ç«¯çš„åŒºåˆ«ï¼š
| æ¯”è¾ƒç»´åº¦   | `deque`                | `queue.Queue` |
| ------ | ---------------------- | ------------- |
| å…¥é˜Ÿæ“ä½œ   | `append`, `appendleft` | `put()`       |
| å‡ºé˜Ÿæ“ä½œ   | `pop`, `popleft`       | `get()`       |
| æ˜¯å¦çº¿ç¨‹å®‰å…¨ | âŒ å¦                    | âœ… æ˜¯           |
| æ˜¯å¦åŒç«¯æ”¯æŒ | âœ… æ˜¯                    | âŒ å¦           |
| åº”ç”¨åœºæ™¯   | ç®—æ³•é¢˜ã€æ»‘çª—ã€å•è°ƒé˜Ÿåˆ—            | å¤šçº¿ç¨‹æ•°æ®é€šä¿¡é˜Ÿåˆ—     |


| åŠŸèƒ½     | `collections.deque`      | `queue.Queue`          | æ—¶é—´å¤æ‚åº¦ | è¯´æ˜                 |
| ------ | ------------------------ | ---------------------- | ----- | ------------------ |
| å…¥é˜Ÿï¼ˆå°¾éƒ¨ï¼‰ | `append(x)`              | `put(x)`               | O(1)  | åŠ åˆ°é˜Ÿå°¾ï¼ˆå³ä¾§ï¼‰           |
| å…¥é˜Ÿï¼ˆå¤´éƒ¨ï¼‰ | `appendleft(x)`          | âŒ ä¸æ”¯æŒ                  | O(1)  | åŒç«¯é˜Ÿåˆ—ç‰¹æ€§             |
| å‡ºé˜Ÿï¼ˆå¤´éƒ¨ï¼‰ | `popleft()`              | `get()`                | O(1)  | å¼¹å‡ºé˜Ÿé¦–ï¼ˆå·¦ä¾§ï¼‰           |
| å‡ºé˜Ÿï¼ˆå°¾éƒ¨ï¼‰ | `pop()`                  | âŒ ä¸æ”¯æŒ                  | O(1)  | åŒç«¯é˜Ÿåˆ—ç‰¹æ€§             |
| æŸ¥çœ‹é˜Ÿé¦–   | `deque[0]`               | âŒ ä¸ç›´æ¥æ”¯æŒ                | O(1)  | éœ€å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºç©º           |
| æŸ¥çœ‹é˜Ÿå°¾   | `deque[-1]`              | âŒ ä¸ç›´æ¥æ”¯æŒ                | O(1)  | -                  |
| åˆ¤æ–­æ˜¯å¦ä¸ºç©º | `not deque` æˆ– `len()==0` | `empty()`              | O(1)  | -                  |
| å½“å‰é•¿åº¦   | `len(deque)`             | `qsize()`              | O(1)  | -                  |
| æ¸…ç©ºé˜Ÿåˆ—   | `clear()`                | âŒ ä¸ç›´æ¥æ”¯æŒ                | O(n)  | -                  |
| æœ€å¤§é•¿åº¦é™åˆ¶ | å¯è®¾å®š `deque(maxlen=N)`    | å¯è®¾å®š `Queue(maxsize=N)` | -     | ä¸¤è€…å‡æ”¯æŒ              |
| é˜»å¡ç­‰å¾…æ”¯æŒ | âŒ ä¸æ”¯æŒ                    | âœ… æ”¯æŒï¼ˆé˜»å¡/éé˜»å¡ï¼‰           | -     | `put(block=False)` |
| å¤šçº¿ç¨‹å®‰å…¨  | âŒ å¦                      | âœ… æ˜¯                    | -     | å†…éƒ¨åŠ é”               |

