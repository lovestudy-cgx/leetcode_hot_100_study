ç­”æ¡ˆï¼š
# è¯·é€‰æ‹© Python3 æäº¤ä»£ç ï¼Œè€Œä¸æ˜¯ Python
class Solution:
    def minWindow(self, s: str, t: str) -> str:
        ans_left, ans_right = -1, len(s)
        cnt_s = Counter()  # s å­ä¸²å­—æ¯çš„å‡ºç°æ¬¡æ•°ï¼Œè¿™é‡Œæ˜¯åˆå§‹åŒ–ï¼Œå› æ­¤ä¸éœ€è¦å¡«å…¥å€¼ã€‚  Counter æ˜¯ Python ä¸­ collections æ¨¡å—æä¾›çš„ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼ˆå­—å…¸ï¼‰å­ç±»ï¼Œä¸“é—¨ç”¨æ¥åšå…ƒç´ é¢‘æ•°ç»Ÿè®¡çš„ã€‚åº•å±‚ä¹Ÿæ˜¯å­—å…¸ï¼Œè¿™é‡Œä¸ç”¨æ™®é€šå­—å…¸çš„ç›®çš„æ˜¯ä¸ºäº†ä¸‹æ–‡çš„æ¶µç›–ã€‚
        cnt_t = Counter(t)  # t ä¸­å­—æ¯çš„å‡ºç°æ¬¡æ•°

        left = 0
        for right, c in enumerate(s):  # ç§»åŠ¨å­ä¸²å³ç«¯ç‚¹
            cnt_s[c] += 1  # å³ç«¯ç‚¹å­—æ¯ç§»å…¥å­ä¸²
            while cnt_s >= cnt_t:  # æ¶µç›–
                if right - left < ans_right - ans_left:  # æ‰¾åˆ°æ›´çŸ­çš„å­ä¸²
                    ans_left, ans_right = left, right  # è®°å½•æ­¤æ—¶çš„å·¦å³ç«¯ç‚¹
                cnt_s[s[left]] -= 1  # å·¦ç«¯ç‚¹å­—æ¯ç§»å‡ºå­ä¸²
                left += 1
        return "" if ans_left < 0 else s[ans_left: ans_right + 1]

ä¸Šé¢çš„é—®é¢˜åœ¨äºï¼Œcounteråº•å±‚åˆ¤æ–­æ˜¯å¦æ¶µç›–çš„æ—¶å€™éœ€è¦èŠ±è´¹Î£ï¼ˆä»£è¡¨counteré‡Œé¢çš„keyçš„ä¸ªæ•°ï¼Œæœ€ä¸å¹¸çš„è¯æ˜¯52ä¸ªï¼‰ï¼ˆå¤§å°å†™è‹±æ–‡å­—æ¯ï¼‰ï¼Œæ‰€ä»¥è€ƒè™‘ä¼˜åŒ–ï¼Œé‡‡ç”¨lessæ¥ä¸“é—¨è®°å½•sä¸­æ¯”tå°‘çš„å­—æ¯

class Solution:
    def minWindow(self, s: str, t: str) -> str:
        ans_left, ans_right = -1, len(s)
        cnt = defaultdict(int)  # æ¯” Counter æ›´å¿«
        for c in t:
            cnt[c] += 1
        less = len(cnt)  # æœ‰ less ç§å­—æ¯çš„å‡ºç°æ¬¡æ•° < t ä¸­çš„å­—æ¯å‡ºç°æ¬¡æ•°ã€‚lessè®°å½•çš„æ˜¯å­—å…¸å¤šå°‘ä¸ªé”®å€¼å¯¹ï¼Œæœ‰å¤šå°‘ç§å­—æ¯ã€‚

        left = 0
        for right, c in enumerate(s):  # ç§»åŠ¨å­ä¸²å³ç«¯ç‚¹
            cnt[c] -= 1  # å³ç«¯ç‚¹å­—æ¯ç§»å…¥å­ä¸²
            if cnt[c] == 0:
                # åŸæ¥çª—å£å†… c çš„å‡ºç°æ¬¡æ•°æ¯” t çš„å°‘ï¼Œç°åœ¨ä¸€æ ·å¤š
                less -= 1
            while less == 0:  # æ¶µç›–ï¼šæ‰€æœ‰å­—æ¯çš„å‡ºç°æ¬¡æ•°éƒ½æ˜¯ >=
                if right - left < ans_right - ans_left:  # æ‰¾åˆ°æ›´çŸ­çš„å­ä¸²
                    ans_left, ans_right = left, right  # è®°å½•æ­¤æ—¶çš„å·¦å³ç«¯ç‚¹
                x = s[left]  # å·¦ç«¯ç‚¹å­—æ¯
                if cnt[x] == 0:
                    # x ç§»å‡ºçª—å£ä¹‹å‰ï¼Œæ£€æŸ¥å‡ºç°æ¬¡æ•°ï¼Œ
                    # å¦‚æœçª—å£å†… x çš„å‡ºç°æ¬¡æ•°å’Œ t ä¸€æ ·ï¼Œ
                    # é‚£ä¹ˆ x ç§»å‡ºçª—å£åï¼Œçª—å£å†… x çš„å‡ºç°æ¬¡æ•°æ¯” t çš„å°‘
                    less += 1
                cnt[x] += 1  # å·¦ç«¯ç‚¹å­—æ¯ç§»å‡ºå­ä¸²
                left += 1
        return "" if ans_left < 0 else s[ans_left: ans_right + 1]

æ— å…³å­—ç¬¦æ— è®ºå‡ºç°å¤šå°‘æ¬¡ï¼Œåœ¨è¿›å…¥çª—å£æ—¶éƒ½åªä¼šè®© cnt[c] å˜æˆè´Ÿæ•°ï¼Œæ°¸è¿œä¸ä¼šå½±å“ lessï¼Œå› ä¸ºå®ƒä»¬ä»æœªåœ¨ cnt ä¸­è¢«è®¾å®šä¸ºæ­£å€¼ï¼ˆå³ç›®æ ‡å­—ç¬¦ï¼‰ï¼Œä¹Ÿæ°¸è¿œä¸ä¼šâ€œé…å¹³ä¸º 0â€è§¦å‘ less -= 1ï¼Œæ‰€ä»¥æ— å…³ã€‚

ğŸ” æ›´è¿›ä¸€æ­¥è¡¥ä¸€å±‚è§£é‡Š
åœ¨åˆå§‹åŒ–é˜¶æ®µæˆ‘ä»¬åªå¯¹ t ä¸­çš„å­—ç¬¦åšäº† cnt[c] += 1ï¼Œå› æ­¤åªæœ‰ t ä¸­çš„å­—ç¬¦çš„ cnt[c] åˆå€¼æ˜¯æ­£çš„ã€‚

åªæœ‰è¿™äº›ç›®æ ‡å­—ç¬¦çš„è®¡æ•°èƒ½ä»æ­£æ•°é€šè¿‡æ»‘åŠ¨çª—å£å˜æˆ 0ï¼Œæ‰ä¼šå¯¼è‡´ less -= 1ã€‚

åä¹‹ï¼Œæ‰€æœ‰ä¸åœ¨ t ä¸­çš„å­—ç¬¦ï¼Œåœ¨ cnt ä¸­åˆå§‹æ˜¯ 0ï¼Œä¸€æ—¦æ»‘å…¥çª—å£å°±å˜ä¸ºè´Ÿå€¼ï¼Œæ°¸è¿œä¸ä¼šç­‰äº 0ï¼Œæ°¸è¿œä¸å¯èƒ½æ”¹å˜ lessã€‚

æ‰€ä»¥ï¼š

âœ… åˆ¤æ–­ cnt[c] == 0 æ˜¯ç²¾ç¡®è€Œå®‰å…¨çš„ï¼Œå®ƒä»…åœ¨ä»â€œè¿˜å·®ä¸€ç‚¹â€å˜ä¸ºâ€œåˆšåˆšå¥½â€æ—¶è§¦å‘ï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šè¢«æ— å…³å­—ç¬¦å¹²æ‰°ã€‚

